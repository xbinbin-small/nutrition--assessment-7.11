#**智能体及其角色：**

1. **`CNA_Coordinator` :**
* **角色：** 评估过程的中央管理者。
* **任务：**
* 接收初始请求和所有原始患者数据（疾病状态、筛查结果、实验室报告、饮食记录、人体测量数据、代谢测试结果）。
* 验证输入数据的完整性和基本格式。标记关键缺失信息。
* 通过向专门的智能体分发相关的数据子集来启动评估过程。
* 管理智能体之间的信息序列和流转（例如，确保生化解读考虑疾病背景）。
* 从专门智能体收集中间结果。
* 当处理了足够的信息后，触发 `Diagnostic_Reporter`（诊断与报告智能体 - 专家智能体）。
* 请求 `Diagnostic_Reporter`（诊断与报告智能体 - 专家智能体）生成结构化的PES声明。
* 在分发任务和收集结果时，Coordinator应为每一条数据和每一个分析结论都打上唯一的ID或标签。这样，在最终报告中，任何一个结论（如“存在重度营养不良”）都可以一键追溯到是哪个智能体（如Diagnostic_Reporter）基于哪些中间结论（如Anthropometric_Evaluator报告的“体重下降11%”和Dietary_Assessor报告的“能量摄入不足”）得出的，而这些中间结论又能追溯到原始的JSON输入数据。
* 交付最终的、整合的 CNA 报告。

  
2. **`Clinical_Context_Analyzer` :**
* **角色：** 解读患者的基础医疗状况及其营养影响。
* **任务：**
* 分析主要诊断、合并症、严重程度、急慢性状态（急性/慢性）以及当前治疗（手术、化疗、放疗、药物）。
* 识别潜在的与疾病相关的营养影响:高代谢状态、炎症(可使用CRP、临床体征判断)、吸收不良、器官功能障碍（肝、肾）、营养素丢失增加。
* 结合疾病背景解读营养风险筛查评分(例如 NRS-2002, MUST)。
* 解读病历文书和会诊记录，如果有多份病历文书和会诊记录，注意病历文书和会诊记录的编号（一般越新的报告编号越靠前）。
* 向 `CNA_Coordinator` 提供临床背景摘要、估计的应激/炎症水平以及潜在的营养不良病因因素（依据 GLIM 标准的疾病负荷/炎症），也可能直接提供给其他相关智能体（如 `Biochemical_Interpreter`）。

  
3. **`Anthropometric_Evaluator` :**
* **角色：** 处理和解读身体测量数据。
* **任务：**
* 计算或获取 BMI 并与年龄/人群特定的标准(例如 WHO、亚洲标准、老年人界值)进行比较。
* 计算指定时间段内（例如 1 周、1 个月、3 个月、6 个月）的体重变化百分比，并评估其显著性（有意/无意）。
* 解读其他测量值，如腰围、上臂围、肱三头肌皮褶厚度、小腿围，并对照参考数据以评估脂肪储存和身体蛋白质（肌肉）状况。
* 如果可用，解读身体成分数据(例如来自 BIA、DXA)，重点关注肌肉量(例如，去脂体重指数 - FFMI,骨骼肌指数 - SMI)。
* 识别是否满足营养不良的表型标准(依据 GLIM 的低 BMI、体重减轻、肌肉量减少),并量化其严重程度。
* 向 `CNA_Coordinator` 报告结构化的结果(例如,“严重非意愿性体重减轻:3 个月内 11%”,“BMI 17.5 kg/m²”,“基于小腿围百分位数判断为肌肉量低下”)。


4. **`Biochemical_Interpreter` :**
* **角色：** 分析与营养状况相关的实验室数据。
* **任务：**
* 解读血清蛋白水平（白蛋白、前白蛋白、转铁蛋白），*同时考虑* `Clinical_Context_Analyzer` 提供的背景信息（尤其是炎症标志物如 CRP,以及水合状态）。区分因营养不良导致的低水平与因炎症/液体转移导致的低水平。
* 评估与营养相关的免疫功能标志物（例如，总淋巴细胞计数）。
* 评估相关的维生素和矿物质水平(如果检测了,例如,铁代谢研究、B12、叶酸、维生素 D、锌、镁)。
* 评估电解质平衡以及肾/肝功能标志物，因为它们影响营养治疗和状态。
* 解读营养代谢检测结果(如果可用),例如通过间接测热法测量的静息能量消耗(REE)比较测量值与预测值,和用于了解底物利用情况的呼吸商(RQ)。
* 如果有多分生化检查报告，注意生化检查报告的编号（一般越新的报告编号越靠前）。
* 向 `CNA_Coordinator` 报告结构化的结果（例如，“低前白蛋白 (12 mg/dL) 可能与高炎症状态 (CRP 150 mg/L) 及潜在的摄入不足有关”，“存在缺铁性贫血证据”，“测量的 REE 表明存在高代谢状态 - 为预测值的 135%”）。

  
5. **`Dietary_Assessor` :**
* **角色：** 评估患者的食物和营养素摄入量。
* **任务：**
* 根据年龄、性别、体重、活动水平和临床背景（`Clinical_Context_Analyzer` 提供的应激/疾病因素）估算患者的能量、蛋白质、液体以及可能关键的微量营养素需求量。
* 分析膳食摄入数据(例如,24 小时回顾、食物频率问卷、热量计算、报告的膳食摄入百分比)。
* 计算能量、蛋白质和其他相关营养素的日均摄入量。
* 将摄入量与估算需求量进行比较，以判断是否充足（例如，“满足需求的百分比”）。
* 识别饮食的定性方面（例如，饮食质地、食物不耐受、对补充剂的依赖、进食障碍）。
* 确定是否满足营养不良的病因标准（依据 GLIM 的食物摄入减少/吸收障碍）。
* 向 `CNA_Coordinator` 报告结构化的结果（例如，“过去一周平均能量摄入估计为需求的 55%”，“蛋白质摄入 0.7 克/公斤/天，低于 1.2 克/公斤/天的估计需求”，“报告有早饱感和恶心影响摄入”）。

  
6. **`Diagnostic_Reporter`:** (诊断与报告智能体 - 专家智能体):
* **角色：** 整合所有分析结果，进行营养诊断，并生成最终的综合评估报告。
* **任务：**
* 接收来自 CNA_Coordinator 的所有专家智能体的汇总分析结果。
* 应用诊断标准 (如 GLIM)： 评估表型和病因标准，确定营养不良诊断及其严重程度。
识别主要的营养问题。
* 格式化并生成综结构化的PES声明。
将结构化的PES声明输出给 CNA_Coordinator。
